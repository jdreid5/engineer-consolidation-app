export const monitoringLogging = { title: "Monitoring & Logging", duration: "25 minutes", content: "## Structured Logging\n\n```javascript\nconst logger = {\n  info: (message, data = {}) => console.log(JSON.stringify({ \n    level: 'info', message, ...data, timestamp: new Date().toISOString() \n  })),\n  error: (message, data = {}) => console.error(JSON.stringify({ \n    level: 'error', message, ...data, timestamp: new Date().toISOString() \n  }))\n};\n\n// Usage\nlogger.info('Job completed', { jobId: job.id, duration: 1234 });\nlogger.error('Job failed', { jobId: job.id, error: err.message });\n```\n\n## Job Lifecycle Logging\n\n```javascript\nqueue.on('active', (job) => {\n  logger.info('Job started', { jobId: job.data.jobId, queue: 'email' });\n});\n\nqueue.on('completed', (job, result) => {\n  logger.info('Job completed', { jobId: job.data.jobId, result });\n});\n\nqueue.on('failed', (job, err) => {\n  logger.error('Job failed', { \n    jobId: job.data.jobId, \n    error: err.message,\n    attempt: job.attemptsMade \n  });\n});\n```\n\n## Metrics Endpoint\n\n```javascript\napp.get('/metrics', async (req, res) => {\n  const emailQueue = queueService.getQueue('email');\n  const counts = await emailQueue.getJobCounts();\n  \n  res.json({\n    queues: {\n      email: {\n        waiting: counts.waiting,\n        active: counts.active,\n        completed: counts.completed,\n        failed: counts.failed\n      }\n    }\n  });\n});\n```\n\n## Health Check\n\n```javascript\napp.get('/health', async (req, res) => {\n  const redisOk = await checkRedis();\n  const dbOk = await checkDatabase();\n  \n  const status = redisOk && dbOk ? 'healthy' : 'unhealthy';\n  res.status(status === 'healthy' ? 200 : 503).json({\n    status,\n    checks: { redis: redisOk, database: dbOk }\n  });\n});\n```", quiz: [{ question: "Why use structured (JSON) logging?", options: ["It's prettier", "It's easier to parse and query in log aggregation systems", "It's faster", "JavaScript requires it"], correctAnswer: 1, explanation: "JSON logs can be easily parsed by log aggregation tools (ELK, Datadog, etc.) for searching, filtering, and alerting." }] };


